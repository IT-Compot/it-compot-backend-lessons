# üìå –£—Ä–æ–∫: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —à—É—Ç–æ–∫

## üìÖ –ü–ª–∞–Ω –Ω–∞ —É—Ä–æ–∫

‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ `Joke`
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–π —à—É—Ç–∫–∏
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å –∫–Ω–æ–ø–∫–æ–π "–ü–æ–∫–∞–∑–∞—Ç—å —à—É—Ç–∫—É"

---

# üìå –ß—Ç–æ —Ç–∞–∫–æ–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —à—É—Ç–æ–∫?

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —à—É—Ç–∫—É –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –£—á–µ–Ω–∏–∫ —É–∑–Ω–∞—ë—Ç, –∫–∞–∫:

* —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
* –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
* —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏ —à–∞–±–ª–æ–Ω
* –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## üì¶ –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ `Joke`

–í —Ñ–∞–π–ª–µ `jokes/models.py` —Å–æ–∑–¥–∞—ë–º –º–æ–¥–µ–ª—å:

```python
from django.db import models

class Joke(models.Model):
    text = models.TextField()

    def __str__(self):
        return self.text[:50]  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 50 —Å–∏–º–≤–æ–ª–æ–≤ —à—É—Ç–∫–∏
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```sh
python manage.py makemigrations
python manage.py migrate
```

---

## üß† –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à—É—Ç–æ–∫ –≤ –∞–¥–º–∏–Ω–∫—É

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–ª—è—Ç—å —à—É—Ç–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å —Å –ø–æ–º–æ—â—å—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞:

```python
# jokes/admin.py
from django.contrib import admin
from .models import Joke

@admin.register(Joke)
class JokeAdmin(admin.ModelAdmin):
    list_display = ('text',)
```

---

## üîÑ –í—ã–≤–æ–¥ —Å–ª—É—á–∞–π–Ω–æ–π —à—É—Ç–∫–∏

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —à—É—Ç–∫—É. –°–¥–µ–ª–∞–µ–º —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ:

```python
# jokes/views.py
import random
from django.shortcuts import render
from .models import Joke

def random_joke(request):
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —à—É—Ç–∫–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    all_jokes = Joke.objects.all()

    # –ï—Å–ª–∏ –≤ –±–∞–∑–µ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —à—É—Ç–∫–∞ ‚Äî –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é
    if len(all_jokes) > 0:
        joke = random.choice(all_jokes)
    else:
        joke = None

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —à—É—Ç–∫—É (–∏–ª–∏ None) –≤ —à–∞–±–ª–æ–Ω
    return render(request, 'jokes/random_joke.html', {'joke': joke})
```

---

## üåê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ URL

```python
# jokes/urls.py
from django.urls import path
from .views import random_joke

urlpatterns = [
    path('', random_joke, name='random_joke'),
]
```

–í –≥–ª–∞–≤–Ω–æ–º —Ñ–∞–π–ª–µ `urls.py` –ø–æ–¥–∫–ª—é—á–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```python
# project/urls.py
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('jokes.urls')),
]
```

---

## üñºÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞

–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª `jokes/templates/jokes/random_joke.html`:

```html
<!DOCTYPE html>
<html>
<head>
    <title>–°–ª—É—á–∞–π–Ω–∞—è —à—É—Ç–∫–∞</title>
</head>
<body>
    <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —à—É—Ç–æ–∫</h1>

    {% if joke %}
        <p>{{ joke.text }}</p>
    {% else %}
        <p>–®—É—Ç–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>
    {% endif %}

    <form method="get">
        <button type="submit">–ü–æ–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥—É—é —à—É—Ç–∫—É</button>
    </form>
</body>
</html>
```

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞                                              | –†–µ—à–µ–Ω–∏–µ                                                |
| ----------------------------------------------------- | ------------------------------------------------------ |
| üî¥ `IndexError: Cannot choose from an empty sequence` | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —à—É—Ç–∫–∞   |
| üî¥ `TemplateDoesNotExist`                             | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ —à–∞–±–ª–æ–Ω—É –∏ –Ω–∞–ª–∏—á–∏–µ –ø–∞–ø–∫–∏ `templates`   |
| üî¥ `No module named 'jokes'`                          | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ `INSTALLED_APPS` |

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ù–∞ —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –Ω–∞—É—á–∏–ª–∏—Å—å:

* –°–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏
* –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∞–∑—ã
* –†–∞–±–æ—Ç–∞—Ç—å —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏

üéâ **–£—Ä–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω!**
